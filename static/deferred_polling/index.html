<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<title>
		Linux Deferred I/O Polling for Flash
		</title>
		<meta http-equiv="content-type" content="text/html;charset=iso-8859-2" />
		<link rel="stylesheet" href="styles/style.css" type="text/css" />
	</head>
	<body>
	        <script type="text/javascript">
		    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
		    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		</script>
		<script type="text/javascript">
		    try {
		        var pageTracker = _gat._getTracker("UA-8478410-1");
		        pageTracker._trackPageview();
		    } catch(err) {
		    }
		</script>
		<h1 class="name">Linux Deferred I/O Polling for Flash</h1>


                <div>

		This work is aimed at improving the interrupt
		mitigation techniques for modern flash devices.  An
		in-progress patch can be found
		here: <a href="iopoll_defer_unfair_libahci.patch"
		onclick="javascript:
		pageTracker._trackPageview('/deferred_polling.patch');">iopoll_defer_unfair.patch</a>.

		<b>This patch is still undergoing testing and should
		not be released widely</b>.  It is targeted toward
		recent kernel version because
		it relies on the blk-iopoll infrastructure.  This
		patch combines the ahci blk-iopoll support patch
		(after its split into libahci) with the deferred
		polling modifications.<br/>

		<br/>
		<br/> 

		The following sysctl has been added to play
		around with the parameters of deferral.  Requires
		kernel.blk_iopoll=1 to activate.

		<blockquote>
		<pre>sysctl -w kernel.blk_iopoll_defer_by=X</pre> Defers the processing of an interrupt by X microseconds when the previous interrupt completed only 1 command.
		</blockquote>

		
		
		</div>


	</body>
</html>
